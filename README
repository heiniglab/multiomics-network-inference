First preprocess data. (call in R...)
```{r}
library(rmarkdown)
render("0-preprocess.Rmd")
```

Calculate GGMs:
```{bash}
Rscript R/1-apply-ggm_batch.R

# check which ggm calculations have failed
for i in *.out ; do echo $i ; tail -n 1 $i | grep angehalten ; done | grep angehalten -B1 | grep rs | cut -f 1 -d "." > failed.txt

# call again for failed runs
R/1-apply-ggm_batch.R results/current/fits/failed.txt
```

Perform validation
```{bash}
Rscript R/2-validate-ggm_batch.R 
```

summarize validation results into one table:
```{bash}
# remove outputs of failed runs...
for i in *.validation.out ; do echo $i ; cat $i | tail -n 20 | grep Execution ; done | grep Execution -A0 -B1
while read p ; do rm results/current/$p.validation.txt ; done < results/current/failed.validation.txt

cat results/current/*.validation.txt | sort | uniq | sort -r > results/current/validation.summary.txt

```

Display the validation results in a neat RMarkdown document
```{r}
library(rmarkdown)
render("3-render-validation.Rmd")
```
